---
import { Image } from "astro:assets";
import { formatDate } from "@packages/utils/date";

const { item } = Astro.props;
---

<a class="post" href={`/${item.slug}`}>
  {
    item.data.image && (
      <div class="image">
        <Image
          src={item.data.image}
          alt={item.data.imageDescription ?? ""}
          class="img"
        />
      </div>
    )
  }
  <div class="title">{item.data.title}</div>
  <div class="description">{item.data.description}</div>
  <time datetime={item.data.date}>{formatDate(item.data.date)}</time>
</a>

<style>
  .post {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;
    color: inherit;
    cursor: pointer;
  }

  .post {
    .image {
      overflow: hidden;
    }

    .img {
      width: 100%;
      height: auto;
      aspect-ratio: 16/9;
      object-fit: cover;
      display: block;
      transition: transform 300ms;
      transform: scale3d(1, 1, 1);
      transform-style: preserve-3d;
    }
  }

  .post:is(:active, :focus, :hover) .img {
    transform: scale3d(1.1, 1.1, 1);
  }

  .post .title {
    font-size: var(--step-3);
    margin-block-start: var(--base);
    text-decoration: underline;
  }

  .post .description {
    margin-block-start: var(--base);
  }

  .post time {
    margin-block-start: 0.5rem;
    font-size: var(--step-0);
  }
</style>
